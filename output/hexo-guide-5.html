<!DOCTYPE HTML>
<html lang="en-US">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>hexo博客的优化技巧续 | Hexo Tutorial for Non-ITers</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="zippera">
        <meta name="description" content="Book generated using GitBook">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        
        <link rel="prev" href="./hexo-guide-4.html" />
        

        <meta property="og:title" content="hexo博客的优化技巧续 | Hexo Tutorial for Non-ITers">
        <meta property="og:site_name" content="Hexo Tutorial for Non-ITers">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/zippera">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

        
        <link rel="stylesheet" href="gitbook/style.css">
        
        
    </head>
    <body>
        
<div class="book" data-github="zippera/hexotutorial" data-level="5">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="https://github.com/zippera/hexotutorial" target="_blank" class="btn pull-left"><i class="fa fa-github-alt"></i></a>
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>

    <!-- Actions Right -->
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>

    <a href="https://github.com/zippera/hexotutorial/stargazers" target="_blank" class="btn pull-right count-star"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/zippera/hexotutorial/watchers" target="_blank" class="btn pull-right count-watch"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>


    <!-- Title -->
    <h1><a href="./README.html" >Hexo Tutorial for Non-ITers</a></h1>
</div>

    <div class="book-summary">
    <ul class="summary">
        <li>
            <a href="https://github.com/zippera" target="blank">About the author</a>
        </li>
        <li>
            <a href="https://github.com/zippera/hexotutorial/issues" target="blank">Questions and Issues</a>
        </li>
        <li>
            <a href="https://github.com/zippera/hexotutorial/edit/master/hexo-guide-5.md" target="blank">Edit and Contribute</a>
        </li>
        <li class="divider"></li>
        <li data-level="0">
            <a href="./README.html"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1">
                
                <a href="./hexo-guide-1.html">
                    <i class="fa fa-check"></i> <b>1)</b> hexo介绍
                </a>
                
                
            </li>
        
            <li  data-level="2">
                
                <a href="./hexo-guide-2.html">
                    <i class="fa fa-check"></i> <b>2)</b> 搭建hexo博客
                </a>
                
                
            </li>
        
            <li  data-level="3">
                
                <a href="./hexo-guide-3.html">
                    <i class="fa fa-check"></i> <b>3)</b> hexo博客的配置、使用
                </a>
                
                
            </li>
        
            <li  data-level="4">
                
                <a href="./hexo-guide-4.html">
                    <i class="fa fa-check"></i> <b>4)</b> hexo博客的优化技巧
                </a>
                
                
            </li>
        
            <li  data-level="5">
                
                <a href="./hexo-guide-5.html">
                    <i class="fa fa-check"></i> <b>5)</b> hexo博客的优化技巧续
                </a>
                
                
            </li>
        
    </ul>
</div>

    <div class="book-body" tabindex="-1">
        <div class="page-wrapper">
            <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 100%;min-width: 80%;"></div>
    </div>
    <div class="chapters">
    
        <a href="./README.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="./hexo-guide-1.html" title="hexo介绍" class="chapter done new-chapter" data-progress="1" style="left: 20%;"></a>
    
        <a href="./hexo-guide-2.html" title="搭建hexo博客" class="chapter done new-chapter" data-progress="2" style="left: 40%;"></a>
    
        <a href="./hexo-guide-3.html" title="hexo博客的配置、使用" class="chapter done new-chapter" data-progress="3" style="left: 60%;"></a>
    
        <a href="./hexo-guide-4.html" title="hexo博客的优化技巧" class="chapter done new-chapter" data-progress="4" style="left: 80%;"></a>
    
        <a href="./hexo-guide-5.html" title="hexo博客的优化技巧续" class="chapter done new-chapter" data-progress="5" style="left: 100%;"></a>
    
    </div>
</div>

            <div class="page-inner">
            
                <section class="normal" id="section-gitbook_6">
                
                    <p>继续介绍hexo博客的优化和使用。</p>
<h3 id="-rss">添加RSS</h3>
<p>hexo提供了RSS的生成插件，需要手动安装和设置。步骤如下：</p>
<ol>
<li>安装RSS插件到本地：<code>npm install hexo-generator-feed</code></li>
<li>开启RSS功能：编辑<code>hexo/_config.yml</code>，添加如下代码：
```
plugins:</li>
<li>hexo-generator-feed
```</li>
<li>在站点添加链接：
在<code>themes/light/_config.yml</code>中，编辑 <code>rss: /atom.xml</code><br>在<code>themes/light/layout/_partial/header.ejs</code>中，<code>&lt;ul&gt;&lt;/ul&gt;</code>之间，添加一样代码<code>&lt;li&gt; &lt;a href=&quot;/atom.xml&quot;&gt;RSS&lt;/a&gt; &lt;/li&gt;</code></li>
</ol>
<h3 id="-sitemap">添加sitemap</h3>
<p>同样的，我们使用hexo提供的插件，方法与添加RSS类似。</p>
<ol>
<li>安装sitemap到本地：<code>npm install hexo-generator-sitemap</code></li>
<li>开启sitemap功能：编辑<code>hexo/_config.yml</code>，添加如下代码：
```
plugins:</li>
<li>hexo-generator-sitemap
```</li>
<li>访问<code>zipperary/sitemap.xml</code>即可看到站点地图。不过，sitemap的初衷是给搜索引擎看的，为了提高搜索引擎对自己站点的收录效果，我们最好手动到google和百度等搜索引擎提交sitemap.xml。</li>
</ol>
<h3 id="-google-analytics">设置百度统计、Google Analytics</h3>
<p><!--more-->
到<a href="http://tongji.baidu.com/web/welcome/login" target="_blank">百度统计</a>和<a href="http://www.google.com/analytics/" target="_blank">Google Analytics</a>（可能需要穿墙）注册账号、添加网站地址即可，很简单，不详述了。需要注意的是，设置好之后数据要过几个小时才能出现，不用着急。</p>
<h3 id="-dns">购买域名、设置DNS</h3>
<p>参考之前的这篇博客<a href="http://zipperary.com/2013/05/27/domain-name-and-dns/" target="_blank">购买域名、设置DNS</a></p>
<h3 id="-">文章中插入图片</h3>
<p>使用markdown写文章，插入图片的格式为<code>![图片名称](链接地址)</code>，这里要说的是链接地址怎么写。对于hexo，有两种方式：</p>
<ol>
<li>使用本地路径：在<code>hexo/source</code>目录下新建一个<code>img</code>文件夹，将图片放入该文件夹下，插入图片时链接即为<code>/img/图片名称</code>。</li>
<li>使用<em>微博图床</em>，地址<a href="http://weibotuchuang.sinaapp.com/" target="_blank">http://weibotuchuang.sinaapp.com/</a>，将图片拖入区域中，会生成图片的URL，这就是链接地址。</li>
</ol>
<h3 id="-fork-me-on-github-">加入「fork me on github」</h3>
<p><a href="https://github.com/blog/273-github-ribbons" target="_blank">这里</a>有 github 给出的教程，把代码插入到任意一个全局的模板文件中就行，比如<code>layout.ejs</code>的末尾。</p>
<h3 id="bug-warning-lf-will-be-replaced-by-crlf-">bug:「warning: LF will be replaced by CRLF」</h3>
<p>在<code>hexo deploy</code>时，有时会出现这个提示信息<code>warning: LF will be replaced by CRLF</code>，虽然看起来挺乱糟糟的，但不影响使用，可以忽略不计。若想不提示，可以使用如下方法：</p>
<ol>
<li>切换到博客的根目录，执行如下命令：<code>git config --global core.autocrlf  false</code></li>
<li>删除掉该目录下的<code>.git</code>文件夹（可能是隐藏的），命令：<code>rm -rf .git</code></li>
<li>重新<code>git init</code>。</li>
</ol>
<p>再deploy试试吧，清新脱俗了。</p>
<h3 id="bug-hexo-deploy-">bug:<code>hexo deploy</code>没反应</h3>
<p>好多网友遇到过这个问题，目前来看，主要问题出在config.yml的deploy配置上。注意缩进，同时注意冒号后面要有一个空格。</p>
<h3 id="bug-hexo-update-g-hexo-">bug:<code>hexo update -g</code>升级错误，hexo命令失效</h3>
<p>我升级时遇到了这个问题，原因不详。这种情况下，可执行<code>npm install -g hexo</code>重新安装一遍hexo，效果跟升级一样。各版本所做更新修正，请参考<a href="https://github.com/tommy351/hexo/releases" target="_blank">这里</a>。</p>
<h3 id="bug-">bug:搜索框进行搜索：没有结果</h3>
<p>点击搜索后进入的google页面，搜索框里面是不是显示「site:yoursite.com」，这说明有个地方没有设置，请随我来：</p>
<p>打开根目录下的config文件，第15行，<code>url:</code>，自觉填上吧。</p>
<h3 id="-">文件结构</h3>
<p>最后，贴上文件结构的截图，供大家参考。</p>
<p><img src="http://ww1.sinaimg.cn/large/5e8cb366jw1ef5v15j7mcj20gh09yjsj.jpg" alt="hexo根目录"></p>
<p><img src="http://ww1.sinaimg.cn/large/5e8cb366jw1ef5v20u4m7j20gg09gwfn.jpg" alt="source目录"></p>

                
                </section>
            
            </div>

            <div class="page-footer">
    
        
        <div class="navigation-link finished">Finished!</div>
        
    
</div>
        </div>
    </div>
</div>

        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="gitbook/app.js"></script>
        
    </body>
</html>
